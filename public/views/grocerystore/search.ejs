<% layout('./layouts/boilerplate') %>
<div class="w-3/5 portrait:w-full ml-4 mt-4">
  <p ><a class="link link-hover" href="/home">Home</a> 
    > <%=name%></p>
  </div>

<h1 class="text-3xl mt-4 mb-4">Search Results</h1>

<% if(empty){ %>
  <h2>Sorry, we could not find results for <p class="font-bold inline"><%=name%></p>.</h2>
<%  }else {%>
  <section id="search-products" class="w-3/5 portrait:w-full">
    <ul class="carousel carousel-end rounded-box flex flex-wrap gap-3 justify-start portrait:justify-center">
      <% for(let product of products){ %>
      <li class="carousel-item">
        
        <div class="card card-compact bg-base-100 w-56 portrait:w-36">
          <a href="/products/<%=product.id%>">
          <figure>
            <img
              src="<%=product.img %>"
              alt="<%= product.name %>" />
          </figure>
        </a>
          <div class="card-body">
            <div class="card-actions justify-start">
              <button id="add-to-cart-btn" name="<%=product.id%>"  class="btn btn-primary rounded-full text-white"> + Add to Cart</button>
            </div>
            <a href="/products/<%=product.id%>">
            <h2 class="card-title">$<%= (Math.round(product.price * 100) / 100).toFixed(2) %></h2>
            <p class="mb-2"><%= product.name %></p>
          <p class="mb-2"> Category: <%= product.category %></p>
          <div class="badge bg-blue-600/25 text-primary rounded-none block mt-1">
            <p class="font-bold">Pickup</p>
          </div>
          <div class="badge bg-blue-600/25 text-primary rounded-none block mt-1">
            <p class="font-bold">Delivery</p>
          </div>
          </a>
          </div>
        </div>
      </li>
      <% }%>
    </ul>
  </section>
<% } %>